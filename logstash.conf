input {
  file {
    path => "/usr/share/logstash/data/logfile"  # Path to the log file inside the container
    start_position => "beginning"              # Start reading the log file from the beginning
    sincedb_path => "/dev/null"                # Prevents tracking log file progress (useful for testing)
  }
}

filter {
  # Optional filters for parsing logs
  json {
    source => "message"                        # Parse JSON logs if the log is in JSON format
  }
}

output {
  elasticsearch {
    hosts => ["http://elasticsearch:9200"]     # Elasticsearch host
    index => "logs-%{+YYYY.MM.dd}"             # Daily index naming convention
    ssl => false                               # SSL disabled (ensure it matches your setup)
  }
  stdout { codec => rubydebug }                # Print logs to stdout for debugging
}
